{
  if (!this.storeInitialized) {
    throw new VoldemortException("Store not initialized correctly");
  }
  this.targetThroughput=workloadProps.getInt(TARGET_THROUGHPUT,-1);
  this.perThreadThroughputPerMs=-1;
  if (targetThroughput > 0) {
    double targetperthread=((double)targetThroughput) / ((double)numThreads);
    this.perThreadThroughputPerMs=targetperthread / 1000.0;
  }
  if (workloadProps.containsKey(RECORD_COUNT) && workloadProps.containsKey(OPS_COUNT)) {
    this.recordCount=workloadProps.getInt(RECORD_COUNT);
    this.opsCount=workloadProps.getInt(OPS_COUNT);
  }
 else {
    throw new VoldemortException("Missing compulsory parameters - " + RECORD_COUNT + "  or "+ OPS_COUNT);
  }
  Metrics.setProperties(workloadProps);
  Metrics.getInstance().reset();
  this.workLoad=new Workload();
  this.workLoad.init(workloadProps);
}
