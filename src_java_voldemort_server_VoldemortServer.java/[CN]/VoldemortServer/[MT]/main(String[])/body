{
  VoldemortConfig config=null;
  try {
    if (args.length == 0)     config=VoldemortConfig.loadFromEnvironmentVariable();
 else     if (args.length == 1)     config=VoldemortConfig.loadFromVoldemortHome(args[0]);
 else     croak("USAGE: java " + VoldemortServer.class.getName() + " [voldemort_home_dir]");
  }
 catch (  Exception e) {
    logger.error(e);
    Utils.croak("Error while loading configuration: " + e.getMessage());
  }
  VoldemortServer server=new VoldemortServer(config);
  if (!server.isStarted())   server.start();
}
