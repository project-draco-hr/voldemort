{
  logger.info("Starting " + services.size() + " services.");
  long start=System.currentTimeMillis();
  for (  VoldemortService service : services)   service.start();
  long end=System.currentTimeMillis();
  logger.info("Startup completed in " + (end - start) + " ms.");
  if (!metadata.getServerState().equals(VoldemortState.NORMAL_SERVER)) {
    logger.warn("Server started in " + metadata.getServerState() + " state.");
    RebalanceStealInfo stealInfo=metadata.getRebalancingStealInfo();
    boolean success=false;
    while (!success && stealInfo.getAttempt() < voldemortConfig.getMaxRebalancingAttempt()) {
      success=attemptRebalance(stealInfo);
    }
    if (!success) {
      logger.info("Force starting into NORMAL mode !!");
    }
    metadata.cleanAllRebalancingState();
  }
}
