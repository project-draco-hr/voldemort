{
  File testDir=prepareTestDir();
  File index=prepareIndexDir(testDir);
  File data=prepareDataDir(testDir);
  FileOutputStream dataOs=new FileOutputStream(data);
  for (int i=0; i < dataBytes; i++)   dataOs.write(i);
  dataOs.close();
  FileOutputStream indexOs=new FileOutputStream(index);
  for (int i=0; i < indexBytes; i++)   indexOs.write(i);
  indexOs.close();
  try {
    RandomAccessFileStore store=new RandomAccessFileStore("test",testDir,1,1,1000,100 * 1000 * 1000);
    if (!shouldWork)     fail("Able to open corrupt read-only store (index size = " + indexBytes + ", data bytes = "+ dataBytes+ ").");
  }
 catch (  VoldemortException e) {
    if (shouldWork)     fail("Unexpected failure:" + e.getMessage());
  }
}
