{
  final List<String> storeNames=request.getStoreNameList();
  VAdminProto.GetROCurrentVersionResponse.Builder response=VAdminProto.GetROCurrentVersionResponse.newBuilder();
  try {
    for (    String storeName : storeNames) {
      ReadOnlyStorageEngine store=(ReadOnlyStorageEngine)getStorageEngine(storeRepository,storeName);
      VAdminProto.ROStoreVersionMap storeResponse=VAdminProto.ROStoreVersionMap.newBuilder().setStoreName(storeName).setPushVersion(store.getCurrentVersionId()).build();
      response.addRoStoreVersions(storeResponse);
    }
  }
 catch (  VoldemortException e) {
    response.setError(ProtoUtils.encodeError(errorCodeMapper,e));
    logger.error("handleGetROCurrentVersion failed for request(" + request.toString() + ")",e);
  }
  return response.build();
}
