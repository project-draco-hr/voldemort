{
  Store<String,String> store=getStore();
  assertEquals("Only one tempDir should be present",1,tempDirs.size());
  String keyName="testkey.xml";
  store.put(keyName,new Versioned("testValue"));
  assertEquals("Only one file of name key should be present.",1,store.get(keyName).size());
  new File(tempDirs.get(0),keyName + "#").createNewFile();
  new File(tempDirs.get(0),"#" + keyName + "#").createNewFile();
  new File(tempDirs.get(0),keyName + "~").createNewFile();
  new File(tempDirs.get(0),"." + keyName + "~").createNewFile();
  assertEquals("Only one file of name key should be present.",1,store.get(keyName).size());
  store.put(keyName,new Versioned("testValue1"));
  assertEquals("Only one file of name key should be present.",1,store.get(keyName).size());
  assertEquals("Value should match.","testValue1",store.get(keyName).get(0).getValue());
  Map<String,List<Versioned<String>>> map=store.getAll(Arrays.asList(keyName));
  assertEquals("Only one file of name key should be present.",1,map.get(keyName).size());
  assertEquals("Value should match.","testValue1",map.get(keyName).get(0).getValue());
  store.delete(keyName,new VectorClock());
  assertEquals("No file of name key should be present.",0,store.get(keyName).size());
}
