{
  if (args.length < 2 || args.length > 3)   Utils.croak("USAGE: java VoldemortClientShell store_name bootstrap_url [command_file]");
  String storeName=args[0];
  String bootstrapUrl=args[1];
  String commandsFileName="";
  BufferedReader fileReader=null;
  BufferedReader inputReader=null;
  try {
    if (args.length == 3) {
      commandsFileName=args[2];
      fileReader=new BufferedReader(new FileReader(commandsFileName));
    }
    inputReader=new BufferedReader(new InputStreamReader(System.in));
  }
 catch (  IOException e) {
    Utils.croak("Failure to open input stream: " + e.getMessage());
  }
  ClientConfig clientConfig=new ClientConfig().setBootstrapUrls(bootstrapUrl);
  StoreClientFactory factory=new SocketStoreClientFactory(clientConfig);
  DefaultStoreClient<Object,Object> client=null;
  try {
    client=(DefaultStoreClient<Object,Object>)factory.getStoreClient(storeName);
  }
 catch (  Exception e) {
    Utils.croak("Could not connect to server: " + e.getMessage());
  }
  System.out.println("Established connection to " + storeName + " via "+ bootstrapUrl);
  System.out.print(PROMPT);
  if (fileReader != null) {
    processCommands(fileReader,true);
    fileReader.close();
  }
  processCommands(inputReader,false);
}
