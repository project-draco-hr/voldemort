{
  HashMap<Integer,List<Integer>> replicaToPartitionList=Maps.newHashMap();
  replicaToPartitionList.put(0,Lists.newArrayList(0,1,2));
  List<RebalancePartitionsInfo> rebalancePartitionsInfos=Arrays.asList(new RebalancePartitionsInfo(2,0,replicaToPartitionList,Arrays.asList("test1","test2"),ServerTestUtils.getLocalCluster(1),true,0),new RebalancePartitionsInfo(3,1,replicaToPartitionList,Arrays.asList("test1","test2","test3"),ServerTestUtils.getLocalCluster(2),false,10));
  RebalancerState in=new RebalancerState(rebalancePartitionsInfos);
  String jsonIn=in.toJsonString();
  RebalancerState out=RebalancerState.create(jsonIn);
  assertEquals(in,out);
  String jsonOut=out.toJsonString();
  assertEquals(jsonIn,jsonOut);
}
