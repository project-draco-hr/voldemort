{
  byte[] keyInBytes;
  List<Integer> nodeIdList=null;
  int masterPartitionId=-1;
  try {
    keyInBytes=ByteUtils.fromHexString(keyInHexFormat);
    masterPartitionId=consistencyFix.getStoreInstance().getMasterPartitionId(keyInBytes);
    nodeIdList=consistencyFix.getStoreInstance().getReplicationNodeList(masterPartitionId);
  }
 catch (  Exception exception) {
    logger.info("Aborting fixKey due to bad init.");
    if (logger.isDebugEnabled()) {
      exception.printStackTrace();
    }
    return Status.BAD_INIT;
  }
  ByteArray keyAsByteArray=new ByteArray(keyInBytes);
  Map<Integer,QueryKeyResult> nodeIdToKeyValues=doReads(nodeIdList,keyInBytes,keyInHexFormat);
  ProcessReadRepliesResult result=processReadReplies(nodeIdList,keyAsByteArray,keyInHexFormat,nodeIdToKeyValues);
  if (result.status != Status.SUCCESS) {
    return result.status;
  }
  List<NodeValue<ByteArray,byte[]>> toReadRepair=resolveReadConflicts(result.nodeValues);
  Status status=doRepairPut(toReadRepair);
  return status;
}
