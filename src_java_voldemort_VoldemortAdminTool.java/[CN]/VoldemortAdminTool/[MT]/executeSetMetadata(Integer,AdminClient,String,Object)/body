{
  List<Integer> nodeIds=Lists.newArrayList();
  if (nodeId < 0) {
    for (    Node node : adminClient.getAdminClientCluster().getNodes()) {
      nodeIds.add(node.getId());
    }
  }
 else {
    nodeIds.add(nodeId);
  }
  for (  Integer currentNodeId : nodeIds) {
    System.out.println("Setting " + key + " for "+ adminClient.getAdminClientCluster().getNodeById(currentNodeId).getHost()+ ":"+ adminClient.getAdminClientCluster().getNodeById(currentNodeId).getId());
    Versioned<String> currentValue=adminClient.getRemoteMetadata(currentNodeId,key);
    if (!value.equals(currentValue.getValue())) {
      VectorClock updatedVersion=((VectorClock)currentValue.getVersion()).incremented(currentNodeId,System.currentTimeMillis());
      adminClient.updateRemoteMetadata(currentNodeId,key,Versioned.value(value.toString(),updatedVersion));
    }
  }
}
