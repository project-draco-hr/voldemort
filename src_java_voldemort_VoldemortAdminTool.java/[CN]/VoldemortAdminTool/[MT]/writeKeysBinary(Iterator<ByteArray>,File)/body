{
  DataOutputStream dos=null;
  if (outputFile != null) {
    dos=new DataOutputStream(new BufferedOutputStream(new FileOutputStream(outputFile)));
  }
 else {
    dos=new DataOutputStream(new BufferedOutputStream(System.out));
  }
  try {
    while (keyIterator.hasNext()) {
      byte[] keyBytes=keyIterator.next().get();
      dos.writeInt(keyBytes.length);
      dos.write(keyBytes);
    }
  }
  finally {
    dos.close();
  }
}
