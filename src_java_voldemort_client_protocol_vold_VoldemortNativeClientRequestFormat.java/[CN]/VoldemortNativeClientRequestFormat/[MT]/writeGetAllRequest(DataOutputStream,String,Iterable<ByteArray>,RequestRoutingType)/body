{
  StoreUtils.assertValidKeys(keys);
  output.writeByte(VoldemortOpCode.GET_ALL_OP_CODE);
  output.writeUTF(storeName);
  output.writeBoolean(routingType.equals(RequestRoutingType.ROUTED));
  if (protocolVersion >= 2) {
    output.writeUTF(routingType.toString());
  }
  List<ByteArray> l=new ArrayList<ByteArray>();
  for (  ByteArray key : keys)   l.add(key);
  output.writeInt(l.size());
  for (  ByteArray key : keys) {
    output.writeInt(key.length());
    output.write(key.get());
  }
}
