{
  MetadataStore metadata=TestUtils.createMetadata(new int[][]{{0,1,2,3},{4,5,6,7},{8,9,10,11}},storeDef);
  MetadataStore updatedMetadata=TestUtils.createMetadata(new int[][]{{0,1,2,3,11},{4,5,6,7},{8,9,10}},storeDef);
  InvalidMetadataCheckingStore store=new InvalidMetadataCheckingStore(0,new DoNothingStore<ByteArray,byte[]>(storeDef.getName()),updatedMetadata);
  try {
    doOperations(0,store,metadata);
  }
 catch (  InvalidMetadataException e) {
    throw new RuntimeException("Should not see any InvalidMetaDataException",e);
  }
}
