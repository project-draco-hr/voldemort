{
  boolean sawException=false;
  VoldemortMetadata metadata=TestUtils.createMetadata(new int[][]{{0,1,2,3},{4,5,6,7},{8,9,10,11}},storeDef);
  VoldemortMetadata updatedMetadata=TestUtils.createMetadata(new int[][]{{0,1,2},{4,5,6,7,3},{8,9,10,11}},storeDef);
  InvalidMetadataCheckingStore store=new InvalidMetadataCheckingStore(0,new DoNothingStore<ByteArray,byte[]>(storeDef.getName()),updatedMetadata);
  try {
    doOperations(0,store,metadata);
  }
 catch (  InvalidMetadataException e) {
    sawException=true;
  }
  assertEquals("Should see InvalidMetaDataException",true,sawException);
}
