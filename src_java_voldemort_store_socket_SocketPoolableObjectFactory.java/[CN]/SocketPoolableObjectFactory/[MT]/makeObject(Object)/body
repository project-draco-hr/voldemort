{
  SocketDestination dest=(SocketDestination)key;
  Socket socket=new Socket();
  socket.setReceiveBufferSize(this.socketBufferSize);
  socket.setSendBufferSize(this.socketBufferSize);
  socket.setTcpNoDelay(true);
  socket.setSoTimeout(timeoutMs);
  socket.connect(new InetSocketAddress(dest.getHost(),dest.getPort()));
  if (socket.getReceiveBufferSize() != this.socketBufferSize)   logger.debug("Requested socket receive buffer size was " + this.socketBufferSize + " bytes but actual size is "+ socket.getReceiveBufferSize()+ " bytes.");
  if (socket.getSendBufferSize() != this.socketBufferSize)   logger.debug("Requested socket send buffer size was " + this.socketBufferSize + " bytes but actual size is "+ socket.getSendBufferSize()+ " bytes.");
  int numCreated=created.incrementAndGet();
  if (logger.isDebugEnabled())   logger.debug("Created socket " + numCreated + " for "+ dest.getHost()+ ":"+ dest.getPort());
  return new SocketAndStreams(socket);
}
