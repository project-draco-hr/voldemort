{
  List<String> list=new ArrayList<String>();
  for (  Node node : getConfig().getNodes()) {
    NodeStatus nodeStatus=getNodeStatus(node);
synchronized (nodeStatus) {
      String availability=isAvailable(node) ? "available" : "unavailable";
      long percentage=nodeStatus.getTotal() > 0 ? (nodeStatus.getSuccess() * 100) / nodeStatus.getTotal() : 0;
      list.add(node + ",status=" + availability+ ",percentage="+ percentage+ "%");
    }
  }
  return StringUtils.join(list,";");
}
