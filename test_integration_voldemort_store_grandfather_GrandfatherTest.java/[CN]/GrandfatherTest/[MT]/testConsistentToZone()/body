{
  for (int zoneIds=0; zoneIds < NUM_ZONES; zoneIds++) {
    zoneReplicationFactors.put(zoneIds,1);
  }
  StoreDefinition beforeStoreDef=ServerTestUtils.getStoreDef("test1",1,1,1,1,1,RoutingStrategyType.CONSISTENT_STRATEGY);
  StoreDefinition afterStoreDef=ServerTestUtils.getStoreDef("test1",2,2,2,2,0,0,zoneReplicationFactors,HintedHandoffStrategyType.PROXIMITY_STRATEGY,RoutingStrategyType.ZONE_STRATEGY);
  test(consistentRoutingCluster,zoneRoutingCluster,Lists.newArrayList(beforeStoreDef),Lists.newArrayList(afterStoreDef));
  test(consistentRoutingCluster,zoneRoutingClusterModified,Lists.newArrayList(beforeStoreDef),Lists.newArrayList(afterStoreDef));
  zoneReplicationFactors=Maps.newHashMap();
  for (int zoneIds=0; zoneIds < NUM_ZONES; zoneIds++) {
    zoneReplicationFactors.put(zoneIds,2);
  }
  beforeStoreDef=ServerTestUtils.getStoreDef("test1",2,2,2,2,2,RoutingStrategyType.CONSISTENT_STRATEGY);
  afterStoreDef=ServerTestUtils.getStoreDef("test1",2,2,2,2,1,1,zoneReplicationFactors,HintedHandoffStrategyType.PROXIMITY_STRATEGY,RoutingStrategyType.ZONE_STRATEGY);
  test(consistentRoutingCluster,zoneRoutingCluster,Lists.newArrayList(beforeStoreDef),Lists.newArrayList(afterStoreDef));
  test(consistentRoutingCluster,zoneRoutingClusterModified,Lists.newArrayList(beforeStoreDef),Lists.newArrayList(afterStoreDef));
}
