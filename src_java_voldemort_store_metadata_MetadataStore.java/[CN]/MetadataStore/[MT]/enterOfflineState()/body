{
  writeLock.lock();
  try {
    if (ByteUtils.getString(get(SERVER_STATE_KEY,null).get(0).getValue(),"UTF-8").compareTo(VoldemortState.NORMAL_SERVER.toString()) == 0) {
      put(SERVER_STATE_KEY,VoldemortState.OFFLINE_SERVER);
      initCache(SERVER_STATE_KEY);
    }
  }
  finally {
    writeLock.unlock();
  }
}
