{
  Pair<ByteArray,Versioned<byte[]>> retValue=null;
  if (recoveryModeOn) {
    retValue=tentativeList.get(recoveryPosition);
    recoveryPosition++;
    if (recoveryPosition >= tentativeList.size()) {
      recoveryModeOn=false;
    }
    if (retValue == null) {
      logger.error("No elements found in the recovery list while in the recovery mode!\n" + "  recovery list size: " + tentativeList.size() + "  recovery position: "+ recoveryPosition);
    }
  }
 else {
    retValue=queue.take();
    tentativeList.add(retValue);
  }
  return retValue;
}
