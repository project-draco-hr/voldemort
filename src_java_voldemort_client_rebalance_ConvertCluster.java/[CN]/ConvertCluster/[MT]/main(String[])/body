{
  if (args.length != 3)   Utils.croak("Usage: ConvertCluster cluster.xml stores.xml targetCluster.xml");
  try {
    Cluster cluster=new ClusterMapper().readCluster(new File(args[0]));
    List<StoreDefinition> storeDefs=new StoreDefinitionsMapper().readStoreList(new File(args[1]));
    ConvertCluster convertCluster=new ConvertCluster(cluster,storeDefs);
    Cluster targetCluster=convertCluster.convertToZoneAware();
    String targetClusterXml=new ClusterMapper().writeCluster(targetCluster);
    FileWriter clusterXmlWriter=new FileWriter(new File(args[2]));
    clusterXmlWriter.write(targetClusterXml);
    clusterXmlWriter.close();
  }
 catch (  Exception e) {
    e.printStackTrace();
    Utils.croak(e.getMessage());
  }
}
