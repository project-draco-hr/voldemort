{
  this.threadPool=new ClientThreadPool(config.getMaxThreads(),config.getThreadIdleTime(TimeUnit.MILLISECONDS),config.getMaxQueuedRequests());
  this.serializerFactory=config.getSerializerFactory();
  this.bootstrapUrls=validateUrls(config.getBootstrapUrls());
  this.routingTimeoutMs=config.getRoutingTimeout(TimeUnit.MILLISECONDS);
  this.isJmxEnabled=config.isJmxEnabled();
  this.requestFormatType=config.getRequestFormatType();
  if (isJmxEnabled)   this.mbeanServer=ManagementFactory.getPlatformMBeanServer();
 else   this.mbeanServer=null;
  this.jmxId=jmxIdCounter.getAndIncrement();
  registerThreadPoolJmx(threadPool);
  failureDetector=initFailureDetector(config);
}
