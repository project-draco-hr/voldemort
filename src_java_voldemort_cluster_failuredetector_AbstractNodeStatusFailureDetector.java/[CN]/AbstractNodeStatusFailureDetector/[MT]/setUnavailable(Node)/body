{
  NodeStatus nodeStatus=getNodeStatus(node);
synchronized (nodeStatus) {
    boolean previouslyAvailable=!nodeStatus.isUnavailable(failureDetectorConfig.getNodeBannagePeriod());
    nodeStatus.setUnavailable();
    if (previouslyAvailable)     notifyUnavailable(node);
  }
}
