{
  ImmutableMap.Builder<String,Object> builder=new ImmutableMap.Builder<String,Object>();
  builder.put("stealerId",stealerId).put("donorId",donorId).put("unbalancedStoreList",unbalancedStoreList).put("attempt",attempt);
  int maxReplicas=0;
  for (  int replicaNum : replicaToPartitionList.keySet()) {
    if (replicaNum > maxReplicas) {
      maxReplicas=replicaNum;
    }
  }
  for (  int replicaNum : replicaToDeletePartitionList.keySet()) {
    if (replicaNum > maxReplicas) {
      maxReplicas=replicaNum;
    }
  }
  builder.put("maxReplicas",maxReplicas);
  builder.put("initialCluster",new ClusterMapper().writeCluster(initialCluster));
  for (int replicaNum=0; replicaNum <= maxReplicas; replicaNum++) {
    if (replicaToPartitionList.containsKey(replicaNum)) {
      builder.put("replicaToPartitionList" + Integer.toString(replicaNum),replicaToPartitionList.get(replicaNum));
    }
 else {
      builder.put("replicaToPartitionList" + Integer.toString(replicaNum),Lists.newArrayList());
    }
    if (replicaToDeletePartitionList.containsKey(replicaNum)) {
      builder.put("replicaToDeletePartitionList" + Integer.toString(replicaNum),replicaToDeletePartitionList.get(replicaNum));
    }
 else {
      builder.put("replicaToDeletePartitionList" + Integer.toString(replicaNum),Lists.newArrayList());
    }
  }
  return builder.build();
}
