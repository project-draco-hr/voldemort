{
  this.sysRepository=sysRepository;
  try {
    this.currentStoreVersion=this.sysRepository.getVersionStore().getSysStore(STORES_VERSION_KEY);
  }
 catch (  Exception e) {
    logger.error("Exception while getting currentStoreVersion : " + e);
  }
  try {
    this.currentClusterVersion=this.sysRepository.getVersionStore().getSysStore(CLUSTER_VERSION_KEY);
  }
 catch (  Exception e) {
    logger.error("Exception while getting currentClusterVersion : " + e);
  }
  if (currentStoreVersion == null) {
    currentStoreVersion=new Versioned<Long>((long)0);
  }
  if (currentClusterVersion == null) {
    currentClusterVersion=new Versioned<Long>((long)0);
  }
  logger.debug("Initial stores.xml version = " + this.currentStoreVersion);
  logger.debug("Initial cluster.xml version = " + this.currentClusterVersion);
  this.storeClientThunk=storeClientThunk;
  this.isActive=true;
}
