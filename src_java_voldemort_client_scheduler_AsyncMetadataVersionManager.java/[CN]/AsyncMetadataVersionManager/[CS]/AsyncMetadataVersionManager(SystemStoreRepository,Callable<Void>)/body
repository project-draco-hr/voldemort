{
  this.sysRepository=sysRepository;
  Properties versionProps=MetadataVersionStoreUtils.getProperties(this.sysRepository.getMetadataVersionStore());
  try {
    this.currentClusterVersion=getCurrentVersion(CLUSTER_VERSION_KEY,versionProps);
  }
 catch (  Exception e) {
    logger.error("Exception while getting currentClusterVersion : " + e);
  }
  if (currentClusterVersion == null) {
    currentClusterVersion=new Long(0);
  }
  logger.debug("Initial cluster.xml version = " + this.currentClusterVersion);
  this.storeClientThunk=storeClientThunk;
  this.isActive=true;
}
