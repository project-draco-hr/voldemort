{
  try {
    Properties versionProps=MetadataVersionStoreUtils.getProperties(this.sysRepository.getMetadataVersionStore());
    Long newClusterVersion=fetchNewVersion(CLUSTER_VERSION_KEY,currentClusterVersion,versionProps);
    if (newClusterVersion != null) {
      logger.info("Metadata version mismatch detected. Re-bootstrapping !!!");
      try {
        logger.info("Updating cluster version");
        currentClusterVersion=newClusterVersion;
        this.storeClientThunk.call();
      }
 catch (      Exception e) {
        if (logger.isDebugEnabled()) {
          e.printStackTrace();
          logger.debug(e.getMessage());
        }
      }
    }
  }
 catch (  Exception e) {
    logger.debug("Could not retrieve metadata versions from the server.");
  }
}
