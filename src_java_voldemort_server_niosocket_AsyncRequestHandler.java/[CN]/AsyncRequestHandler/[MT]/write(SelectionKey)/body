{
  ByteBuffer outputBuffer=outputStream.getBuffer();
  socketChannel.write(outputBuffer);
  if (!outputBuffer.hasRemaining()) {
    if (outputBuffer.capacity() >= resizeThreshold) {
      outputBuffer=ByteBuffer.allocateDirect(socketBufferSize);
      outputStream.setBuffer(outputBuffer);
    }
    selectionKey.interestOps(SelectionKey.OP_READ);
  }
}
