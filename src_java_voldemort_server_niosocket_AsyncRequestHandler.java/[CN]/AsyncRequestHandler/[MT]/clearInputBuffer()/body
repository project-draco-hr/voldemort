{
  ByteBuffer inputBuffer=inputStream.getBuffer();
  if (logger.isTraceEnabled())   logInputBufferState("About to clear read buffer");
  if (inputBuffer.capacity() >= resizeThreshold) {
    inputBuffer=ByteBuffer.allocate(socketBufferSize);
    inputStream.setBuffer(inputBuffer);
  }
 else {
    inputBuffer.clear();
  }
  if (logger.isTraceEnabled())   logInputBufferState("Cleared read buffer");
}
