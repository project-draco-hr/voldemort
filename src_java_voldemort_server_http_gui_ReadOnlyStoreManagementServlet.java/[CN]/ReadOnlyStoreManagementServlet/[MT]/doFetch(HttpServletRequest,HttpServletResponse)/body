{
  String fetchUrl=getRequired(req,"dir");
  String storeName=getOptional(req,"store");
  ReadOnlyStorageEngine store=this.getStore(storeName);
  File fetchDir=null;
  if (fileFetcher == null) {
    logger.warn("File fetcher class has not instantiated correctly");
    fetchDir=new File(fetchUrl);
  }
 else {
    logger.info("Executing fetch of " + fetchUrl);
    try {
      fetchDir=fileFetcher.fetch(fetchUrl,store.getStoreDirPath() + File.separator + "version-"+ (store.getMaxVersion() + 1),storeName);
    }
 catch (    Exception e) {
      throw new ServletException("Exception in Fetcher = " + e.getMessage());
    }
    if (fetchDir == null) {
      throw new VoldemortException("File fetcher failed for " + fetchUrl + " and store name = "+ storeName+ " due to incorrect path/checksum error");
    }
 else {
      logger.info("Fetch complete.");
    }
  }
  resp.getWriter().write(fetchDir.getAbsolutePath());
}
