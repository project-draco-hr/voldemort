{
  String dir=getRequired(req,"dir");
  String storeName=getRequired(req,"store");
  ReadOnlyStorageEngine store=this.getStore(storeName);
  if (store == null)   throw new ServletException("'" + storeName + "' is not a registered read-only store.");
  if (!Utils.isReadableDir(dir))   throw new ServletException("Store directory '" + dir + "' is not a readable directory.");
  store.swapFiles(dir);
  resp.getWriter().write("Swap completed.");
}
