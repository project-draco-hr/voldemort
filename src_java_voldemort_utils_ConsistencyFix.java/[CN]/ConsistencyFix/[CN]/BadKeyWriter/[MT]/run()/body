{
  try {
    BadKeyResult badKeyResult=badKeyQOut.take();
    while (!badKeyResult.isPoison()) {
      System.out.println("BadKeyWriter write key (" + badKeyResult.keyInHexFormat);
      fileWriter.write("BADKEY," + badKeyResult.keyInHexFormat + ","+ badKeyResult.fixKeyResult.name()+ "\n");
      badKeyResult=badKeyQOut.take();
    }
  }
 catch (  IOException ioe) {
    System.err.println("IO exception reading badKeyFile " + badKeyFileOut + " : "+ ioe.getMessage());
  }
catch (  InterruptedException ie) {
    System.err.println("Interrupted exception during writing of badKeyFile " + badKeyFileOut + " : "+ ie.getMessage());
  }
 finally {
    try {
      fileWriter.close();
    }
 catch (    IOException ioe) {
      System.err.println("Interrupted exception during fileWriter.close:" + ioe.getMessage());
    }
  }
}
