{
  long delay=250;
  long maxDelay=1000 * 60;
  long started=System.currentTimeMillis();
  long mustEndBy=started + timeunit.toMillis(maxPeriod);
  while (System.currentTimeMillis() < mustEndBy) {
    Pair<String,Boolean> status=getAsyncRequestStatus(nodeId,requestId);
    if (status.getSecond())     return true;
    if (delay < maxDelay)     delay*=2;
    try {
      Thread.sleep(delay);
    }
 catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
    }
  }
  return false;
}
