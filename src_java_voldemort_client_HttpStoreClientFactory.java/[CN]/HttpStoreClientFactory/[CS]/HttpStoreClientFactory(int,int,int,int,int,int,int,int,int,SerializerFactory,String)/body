{
  super(Executors.newFixedThreadPool(numThreads),serializerFactory,routingTimeoutMs,nodeBannageMs,bootstrapUrls);
  HostConfiguration hostConfig=new HostConfiguration();
  hostConfig.getParams().setParameter("http.protocol.version",HttpVersion.HTTP_1_1);
  this.connectionManager=new MultiThreadedHttpConnectionManager();
  this.httpClient=new HttpClient(connectionManager);
  this.httpClient.setHostConfiguration(hostConfig);
  HttpClientParams clientParams=this.httpClient.getParams();
  clientParams.setConnectionManagerTimeout(connectionManagerTimeoutMs);
  clientParams.setSoTimeout(socketSoTimeoutMs);
  clientParams.setParameter(HttpMethodParams.RETRY_HANDLER,new DefaultHttpMethodRetryHandler(numRetries,false));
  clientParams.setCookiePolicy(CookiePolicy.IGNORE_COOKIES);
  clientParams.setParameter("http.useragent",VOLDEMORT_USER_AGENT);
  HttpConnectionManagerParams managerParams=this.httpClient.getHttpConnectionManager().getParams();
  managerParams.setConnectionTimeout(connectionTimeoutMs);
  managerParams.setMaxTotalConnections(maxConnections);
  managerParams.setStaleCheckingEnabled(false);
  managerParams.setMaxConnectionsPerHost(httpClient.getHostConfiguration(),maxSingleHostConnections);
}
