{
  for (  int nodeId : requiredNodeIds) {
    Node node=cluster.getNodeById(nodeId);
    try {
      logger.debug("Updating remote node:" + nodeId + " with cluster:"+ cluster);
      adminClient.updateRemoteCluster(node.getId(),cluster,clock);
    }
 catch (    Exception e) {
      throw new VoldemortException("Failed to copy new cluster.xml(" + cluster + ") on required node:"+ node,e);
    }
  }
  for (  Node node : cluster.getNodes()) {
    if (!requiredNodeIds.contains(node.getId())) {
      try {
        adminClient.updateRemoteCluster(node.getId(),cluster,clock);
      }
 catch (      VoldemortException e) {
        logger.warn("Failed to copy new cluster.xml(" + cluster + ") on non-required node:"+ node,e);
      }
    }
  }
}
