{
  HttpConnectionManager connectionManager=new MultiThreadedHttpConnectionManager();
  HttpClient httpClient=new HttpClient(connectionManager);
  HttpClientParams clientParams=httpClient.getParams();
  clientParams.setConnectionManagerTimeout(DEFAULT_CONNECTION_MANAGER_TIMEOUT);
  clientParams.setSoTimeout(500);
  clientParams.setParameter(HttpMethodParams.RETRY_HANDLER,new DefaultHttpMethodRetryHandler(0,false));
  clientParams.setCookiePolicy(CookiePolicy.IGNORE_COOKIES);
  clientParams.setBooleanParameter("http.tcp.nodelay",false);
  clientParams.setIntParameter("http.socket.receivebuffer",60000);
  clientParams.setParameter("http.useragent",VOLDEMORT_USER_AGENT);
  HostConfiguration hostConfig=new HostConfiguration();
  hostConfig.setHost("localhost");
  hostConfig.getParams().setParameter("http.protocol.version",HttpVersion.HTTP_1_1);
  httpClient.setHostConfiguration(hostConfig);
  HttpConnectionManagerParams managerParams=httpClient.getHttpConnectionManager().getParams();
  managerParams.setConnectionTimeout(DEFAULT_CONNECTION_MANAGER_TIMEOUT);
  managerParams.setMaxTotalConnections(DEFAULT_MAX_CONNECTIONS);
  managerParams.setMaxConnectionsPerHost(httpClient.getHostConfiguration(),DEFAULT_MAX_HOST_CONNECTIONS);
  managerParams.setStaleCheckingEnabled(false);
  return httpClient;
}
