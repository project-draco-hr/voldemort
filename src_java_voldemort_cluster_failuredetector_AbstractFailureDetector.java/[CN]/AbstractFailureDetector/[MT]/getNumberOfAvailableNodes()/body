{
  List<NodeStatus> nodeStatuses=null;
synchronized (nodeStatusMap) {
    nodeStatuses=new ArrayList<NodeStatus>(nodeStatusMap.values());
  }
  int available=0;
  for (  NodeStatus nodeStatus : nodeStatuses)   if (nodeStatus.isAvailable())   available++;
  return available;
}
