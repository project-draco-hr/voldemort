{
  super(ServiceType.STORAGE);
  this.voldemortConfig=config;
  this.scheduler=scheduler;
  this.storeRepository=storeRepository;
  this.metadata=metadata;
  this.failureDetector=failureDetector;
  this.cleanupPermits=new Semaphore(1);
  this.storageConfigs=new ConcurrentHashMap<String,StorageConfiguration>();
  this.clientThreadPool=new ClientThreadPool(config.getClientMaxThreads(),config.getClientThreadIdleMs(),config.getClientMaxQueuedRequests());
  this.socketPool=new SocketPool(config.getClientMaxConnectionsPerNode(),config.getClientConnectionTimeoutMs(),config.getSocketTimeoutMs(),config.getSocketBufferSize());
}
