{
  final int MAX_ATTEMPTS=3;
  VoldemortException lastVE=null;
  for (int i=0; i < MAX_ATTEMPTS; i++) {
    try {
      VoldemortServer server=null;
      if (cluster != null) {
        server=new VoldemortServer(config,cluster);
      }
 else {
        server=new VoldemortServer(config);
      }
      server.start();
      ServerTestUtils.waitForServerStart(socketStoreFactory,server.getIdentityNode());
      return server;
    }
 catch (    VoldemortException ve) {
      if (ve.getCause() instanceof BindException) {
        ve.printStackTrace();
        trySleep(100);
        lastVE=ve;
      }
 else {
        throw ve;
      }
    }
  }
  throw new BindException(lastVE.getMessage());
}
