{
  Accumulator accum=values.get();
  long now=System.currentTimeMillis();
  if (now - accum.startTimeMS <= durationMS) {
    return accum;
  }
  Accumulator newWithTotal=accum.newWithTotal();
  if (values.compareAndSet(accum,newWithTotal)) {
    return newWithTotal;
  }
  return values.get();
}
