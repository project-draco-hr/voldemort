{
  Accumulator accum=values.get();
  long now=System.currentTimeMillis();
  if (now - accum.startTimeMS > durationMS) {
    return accum.newWithTotal();
  }
 else {
    return accum;
  }
}
