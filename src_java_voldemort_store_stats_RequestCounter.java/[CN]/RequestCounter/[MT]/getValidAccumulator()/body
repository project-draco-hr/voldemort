{
  Accumulator accum=values.get();
  long now=System.currentTimeMillis();
  if (now - accum.startTimeMS > durationMS) {
    Accumulator newWithTotal=accum.newWithTotal();
    values.set(newWithTotal);
    if (values.compareAndSet(accum,newWithTotal)) {
      return newWithTotal;
    }
  }
  return values.get();
}
