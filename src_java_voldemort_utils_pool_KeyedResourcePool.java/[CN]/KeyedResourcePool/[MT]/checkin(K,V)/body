{
  Pool<V> resourcePool=getResourcePoolForExistingKey(key);
  if (isOpen.get() && objectFactory.validate(key,resource)) {
    boolean success=resourcePool.nonBlockingPut(resource);
    if (!success) {
      destroyResource(key,resourcePool,resource);
      throw new IllegalStateException("Checkin failed. Is the pool already full?");
    }
  }
 else {
    destroyResource(key,resourcePool,resource);
  }
}
