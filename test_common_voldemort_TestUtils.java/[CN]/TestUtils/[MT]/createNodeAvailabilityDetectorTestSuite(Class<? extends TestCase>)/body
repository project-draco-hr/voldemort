{
  TestSuite testSuite=new TestSuite();
  List<Class<?>> classes=new ArrayList<Class<?>>();
  classes.add(BannageTimeNodeAvailabilityDetector.class);
  classes.add(AsyncRecoveryNodeAvailabilityDetector.class);
  for (  Class<?> nodeAvailabilityDetectorClass : classes) {
    try {
      for (      Method method : testCaseClass.getMethods()) {
        if (!isTestMethod(method))         continue;
        Test test=TestSuite.createTest(testCaseClass,method.getName());
        ((NodeAvailabilityDetectorTestCase)test).setNodeAvailabilityDetectorClass((Class<NodeAvailabilityDetector>)nodeAvailabilityDetectorClass);
        testSuite.addTest(test);
      }
    }
 catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
  return testSuite;
}
