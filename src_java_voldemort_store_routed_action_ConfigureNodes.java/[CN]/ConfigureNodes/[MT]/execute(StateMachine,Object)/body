{
  for (  Node node : routingStrategy.routeRequest(key.get())) {
    if (failureDetector.isAvailable(node))     stateData.addNode(node);
  }
  if (stateData.getNodes().size() < required) {
    stateData.setFatalError(new InsufficientOperationalNodesException("Only " + stateData.getNodes().size() + " nodes in preference list, but "+ required+ " required."));
    stateMachine.addEvent(Event.ERROR);
  }
 else {
    if (logger.isDebugEnabled())     logger.debug(stateData.getNodes().size() + " nodes in preference list");
    stateMachine.addEvent(completeEvent);
  }
}
