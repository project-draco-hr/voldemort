{
  int read=0;
  do {
    read=input.read(buffer,read,buffer.length - read);
    if (read < 0)     throw new EOFException("Unexpected eof while reading file.");
  }
 while (read < buffer.length);
  return buffer;
}
