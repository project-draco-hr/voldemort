{
  fillBuffer();
  if (pos >= bufferLength) {
    return -1;
  }
  int max=Math.min(len,bufferLength - pos);
  max=Math.min(max,b.length - off);
  System.arraycopy(buffer,pos,b,off,max);
  pos+=max;
  return max;
}
