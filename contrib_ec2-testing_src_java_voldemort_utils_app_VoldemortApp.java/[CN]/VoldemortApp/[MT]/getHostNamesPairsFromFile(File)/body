{
  List<HostNamePair> hostNamePairs=new ArrayList<HostNamePair>();
  LineIterator li=null;
  int lineNumber=0;
  try {
    li=FileUtils.lineIterator(file);
    while (li.hasNext()) {
      String rawLine=String.valueOf(li.next()).trim();
      lineNumber++;
      int hashIndex=rawLine.indexOf("#");
      if (hashIndex != -1)       rawLine=rawLine.substring(0,hashIndex).trim();
      if (rawLine.length() == 0)       continue;
      String[] line=StringUtils.split(rawLine," \t=:");
      if (line.length < 1 || line.length > 2) {
        System.err.println("Invalid entry (line " + lineNumber + ") in "+ file.getAbsolutePath()+ ": "+ rawLine);
        System.exit(2);
      }
      String externalHostName=line[0];
      String internalHostName=line.length > 1 ? line[1] : externalHostName;
      hostNamePairs.add(new HostNamePair(externalHostName,internalHostName));
    }
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
 finally {
    if (li != null)     li.close();
  }
  return hostNamePairs;
}
