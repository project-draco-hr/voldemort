{
  client.delete("k");
  client.put("k",Versioned.value("v"));
  Versioned<String> v=client.get("k");
  assertEquals("GET should return the version set by PUT.","v",v.getValue());
  try {
    client.put("k",Versioned.value("v"));
    fail("Put of obsolete version should throw exception.");
  }
 catch (  ObsoleteVersionException e) {
  }
  client.put("k",new Versioned<String>("v2",new VectorClock().incremented(nodeId + 1,time.getMilliseconds())));
  assertEquals("GET should return the new value set by PUT.","v2",client.getValue("k"));
  client.delete("k");
  assertNull("After a successful delete(k), get(k) should return null.",client.get("k"));
}
