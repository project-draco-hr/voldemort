{
  int clusterSize=ec2RebalancingTestConfig.getInstanceCount();
  partitionMap=getPartitionMap(clusterSize,ec2RebalancingTestConfig.partitionsPerNode);
  if (logger.isInfoEnabled())   logPartitionMap(partitionMap,"Original");
  originalCluster=ServerTestUtils.getLocalCluster(clusterSize,getPorts(clusterSize),partitionMap);
  nodeIds=generateClusterDescriptor(hostNamePairs,originalCluster,ec2RebalancingTestConfig);
  deploy(hostNames,ec2RebalancingTestConfig);
  startClusterAsync(hostNames,ec2RebalancingTestConfig,nodeIds);
  testEntries=ServerTestUtils.createRandomKeyValueString(ec2RebalancingTestConfig.numKeys);
  originalCluster=updateCluster(originalCluster,nodeIds);
  if (logger.isInfoEnabled())   logger.info("Sleeping for 15 seconds to let the Voldemort cluster start");
  Thread.sleep(15000);
}
