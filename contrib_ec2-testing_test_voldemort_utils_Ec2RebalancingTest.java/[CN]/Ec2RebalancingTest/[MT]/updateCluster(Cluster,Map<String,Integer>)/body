{
  List<Node> nodes=new LinkedList<Node>();
  for (  Map.Entry<String,Integer> entry : nodeIds.entrySet()) {
    String hostName=entry.getKey();
    int nodeId=entry.getValue();
    Node templateNode=templateCluster.getNodeById(nodeId);
    Node node=new Node(nodeId,hostName,templateNode.getHttpPort(),templateNode.getSocketPort(),templateNode.getAdminPort(),templateNode.getPartitionIds());
    nodes.add(node);
  }
  return new Cluster(templateCluster.getName(),nodes);
}
