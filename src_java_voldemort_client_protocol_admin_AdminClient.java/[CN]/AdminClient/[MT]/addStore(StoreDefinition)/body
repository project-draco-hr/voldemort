{
  String value=storeMapper.writeStore(def);
  VAdminProto.AddStoreRequest.Builder addStoreRequest=VAdminProto.AddStoreRequest.newBuilder().setStoreDefinition(value);
  VAdminProto.VoldemortAdminRequest request=VAdminProto.VoldemortAdminRequest.newBuilder().setType(VAdminProto.AdminRequestType.ADD_STORE).setAddStore(addStoreRequest).build();
  for (  Node node : currentCluster.getNodes()) {
    VAdminProto.AddStoreResponse.Builder response=sendAndReceive(node.getId(),request,VAdminProto.AddStoreResponse.newBuilder());
    if (response.hasError())     throwException(response.getError());
    logger.info("Added on node " + node.getHost());
  }
}
