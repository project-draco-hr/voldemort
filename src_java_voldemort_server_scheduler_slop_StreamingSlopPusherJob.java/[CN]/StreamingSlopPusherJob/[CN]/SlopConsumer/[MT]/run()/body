{
  try {
    SlopIterator iterator=new SlopIterator(slopQueue,deleteBatch);
    adminClient.updateSlopEntries(nodeId,iterator);
  }
 catch (  UnreachableStoreException e) {
    failureDetector.recordException(metadataStore.getCluster().getNodeById(nodeId),System.currentTimeMillis() - this.startTime,e);
    throw e;
  }
 finally {
    for (    Pair<ByteArray,Version> entry : deleteBatch)     storeRepo.getSlopStore().delete(entry.getFirst(),entry.getSecond());
    slopQueue.clear();
    slopQueues.remove(nodeId);
  }
}
