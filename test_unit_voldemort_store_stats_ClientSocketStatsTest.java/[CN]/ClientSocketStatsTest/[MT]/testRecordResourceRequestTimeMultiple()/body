{
  ClientSocketStats stats=masterStats;
  assertEquals(0,stats.resourceRequestCount());
  stats.recordResourceRequestTimeUs(dest1,100);
  stats.recordResourceRequestTimeUs(dest1,200);
  stats.recordResourceRequestTimeUs(dest1,300);
  stats.recordResourceRequestTimeUs(dest1,400);
  stats.recordResourceRequestTimeUs(dest2,500);
  stats.recordResourceRequestTimeUs(dest2,600);
  stats.recordResourceRequestTimeUs(dest1,700);
  stats.recordResourceRequestTimeUs(dest1,800);
  stats.recordResourceRequestTimeUs(dest2,900);
  assertEquals(9,stats.resourceRequestCount());
  assertEquals(900,(int)(stats.getResourceRequestTimeMsQ99th() * Time.US_PER_MS));
  ClientSocketStats child1=stats.getStatsMap().get(dest1);
  assertNotNull(child1);
  assertEquals(6,child1.resourceRequestCount());
  assertEquals(100,(int)(child1.getResourceRequestTimeMsQ10th() * Time.US_PER_MS));
  assertEquals(300,(int)(child1.getResourceRequestTimeMsQ50th() * Time.US_PER_MS));
  assertEquals(800,(int)(child1.getResourceRequestTimeMsQ99th() * Time.US_PER_MS));
  ClientSocketStats child2=stats.getStatsMap().get(dest2);
  assertNotNull(child2);
  assertEquals(3,child2.resourceRequestCount());
  assertEquals(500,(int)(child2.getResourceRequestTimeMsQ10th() * Time.US_PER_MS));
  assertEquals(600,(int)(child2.getResourceRequestTimeMsQ50th() * Time.US_PER_MS));
  assertEquals(900,(int)(child2.getResourceRequestTimeMsQ99th() * Time.US_PER_MS));
}
