{
  ClientSocketStats stats=masterStats;
  stats.setMonitoringInterval(9);
  stats.recordCheckoutTimeUs(dest1,100);
  stats.recordCheckoutTimeUs(dest1,200);
  stats.recordCheckoutTimeUs(dest1,300);
  stats.recordCheckoutTimeUs(dest1,400);
  stats.recordCheckoutTimeUs(dest1,500);
  stats.recordCheckoutTimeUs(dest1,600);
  stats.recordCheckoutTimeUs(dest2,700);
  stats.recordCheckoutTimeUs(dest2,800);
  assertEquals(8,stats.getCheckoutCount());
  assertEquals(450,stats.getAvgCheckoutWaitUs());
  ClientSocketStats child1=stats.getStatsMap().get(dest1);
  ClientSocketStats child2=stats.getStatsMap().get(dest2);
  assertEquals(6,child1.getCheckoutCount());
  assertEquals(2,child2.getCheckoutCount());
  assertEquals(350,child1.getAvgCheckoutWaitUs());
  assertEquals(750,child2.getAvgCheckoutWaitUs());
  stats.recordCheckoutTimeUs(dest2,900000);
  assertEquals(0,stats.getAvgCheckoutWaitUs());
  assertEquals(0,stats.getCheckoutCount());
  assertEquals(0,child1.getAvgCheckoutWaitUs());
  assertEquals(0,child1.getCheckoutCount());
  assertEquals(0,child2.getAvgCheckoutWaitUs());
  assertEquals(0,child2.getCheckoutCount());
}
