{
  ClientSocketStats stats=masterStats;
  stats.setMonitoringInterval(9);
  stats.recordCheckoutTimeUs(dest1,100);
  stats.recordCheckoutTimeUs(dest1,200);
  stats.recordCheckoutTimeUs(dest1,300);
  stats.recordCheckoutTimeUs(dest1,400);
  stats.recordCheckoutTimeUs(dest1,500);
  stats.recordCheckoutTimeUs(dest1,600);
  stats.recordCheckoutTimeUs(dest2,700);
  stats.recordCheckoutTimeUs(dest2,800);
  assertEquals(8,stats.getCheckoutCount());
  assertEquals(450,(int)(stats.getAvgCheckoutWaitMs() * Time.US_PER_MS));
  ClientSocketStats child1=stats.getStatsMap().get(dest1);
  ClientSocketStats child2=stats.getStatsMap().get(dest2);
  assertEquals(6,child1.getCheckoutCount());
  assertEquals(2,child2.getCheckoutCount());
  assertEquals(350,(int)(child1.getAvgCheckoutWaitMs() * Time.US_PER_MS));
  assertEquals(750,(int)(child2.getAvgCheckoutWaitMs() * Time.US_PER_MS));
  stats.recordCheckoutTimeUs(dest2,900000);
  assertEquals(0,(int)(stats.getAvgCheckoutWaitMs() * Time.US_PER_MS));
  assertEquals(0,stats.getCheckoutCount());
  assertEquals(0,(int)(child1.getAvgCheckoutWaitMs() * Time.US_PER_MS));
  assertEquals(0,child1.getCheckoutCount());
  assertEquals(0,(int)(child2.getAvgCheckoutWaitMs() * Time.US_PER_MS));
  assertEquals(0,child2.getCheckoutCount());
}
